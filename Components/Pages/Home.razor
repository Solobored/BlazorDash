@page "/"

@inject NavigationManager NavigationManager

<PageTitle>Blazor Dash - Main Menu</PageTitle>

<div class="menu-container">
  <div class="menu-content">
    <h1 class="game-title">🎮 Blazor Dash!</h1>
    <p class="tagline">Dodge obstacles. Beat your high score.</p>

    <div class="menu-buttons">
      <a href="/game" class="btn btn-play">
        ▶️ Play Game
      </a>
      <button type="button" class="btn btn-info" @onclick="ToggleHowToPlay">
        ❓ How to Play
      </button>
      <a href="/leaderboard" class="btn btn-leaderboard">
        🏆 Leaderboard
      </a>
      <a href="/character-editor" class="btn btn-info">
        🎨 Customize Character
      </a>
      <div class="auth-buttons">
        <a href="/login" class="btn btn-secondary">
          🔐 Login
        </a>
        <a href="/register" class="btn btn-secondary">
          📝 Register
        </a>
      </div>
    </div>

    @if (showHowToPlay)
    {
      <div class="how-to-play">
        <h2>How to Play</h2>
        <ul>
          <li><strong>Objective:</strong> Avoid obstacles and survive as long as possible!</li>
          <li><strong>Jump:</strong> Press <kbd>SPACE</kbd> or <kbd>↑ UP ARROW</kbd> (or tap on mobile)</li>
          <li><strong>Score:</strong> You earn 10 points per second survived</li>
          <li><strong>Difficulty:</strong> Obstacles spawn faster and move faster over time</li>
          <li><strong>Leaderboard:</strong> Your scores are saved automatically</li>
          <li><strong>Optional Login:</strong> Create an account to track scores across sessions</li>
        </ul>
        <button class="btn btn-secondary" @onclick="ToggleHowToPlay">Close</button>
      </div>
    }

    <div class="stats-preview">
      <h3>📊 Game Info</h3>
      <p>Play as a guest or create an account to save your progress!</p>
    </div>
  </div>
</div>

@code {
  private bool showHowToPlay = false;

  private void ToggleHowToPlay()
  {
    showHowToPlay = !showHowToPlay;
  }
}